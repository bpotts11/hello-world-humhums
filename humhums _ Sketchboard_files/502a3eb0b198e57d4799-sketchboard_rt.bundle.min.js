(window.webpackJsonp=window.webpackJsonp||[]).push([[15,13],[,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getStore=function(){return l},t.registerReducer=function(e){return u=Object.assign(Object.assign({},u),e),l.replaceReducer((0,o.combineReducers)(u)),l},t.observeStore=function(t,n){var r=void 0;function e(){var e=t(l.getState());e!==r&&n(r=e)}var o=l.subscribe(e);return e(),o};var r,o=n(20),i=n(52),s=(r=i)&&r.__esModule?r:{default:r},a=n(29);var c=(0,n(53).composeWithDevTools)((0,o.applyMiddleware)(s.default))(o.createStore),u=Object.assign({},a.staticReducers),l=c((0,o.combineReducers)(u))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.PUBLISH_BOARD_NAMESPACE_KEY="PUBLISH_BOARD_NAMESPACE",t.MOVE_BOARD_NAMESPACE_KEY="MOVE_BOARD_NAMESPACE",t.BOARD_USERS_NAMESPACE_KEY="BOARD_USERS_NAMESPACE",t.CURRENT_USER_NAMESPACE_KEY="CURRENT_USER_NAMESPACE_KEY",t.INFO_NAMESPACE_KEY="INFO_NAMESPACE_KEY",t.BLANK_NAMESPACE_KEY="BLANK_NAMESPACE"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e};function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.Utils=(r(s,null,[{key:"randStr",value:function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}},{key:"makeGuid",value:function(){return s.randStr()+s.randStr()+"-"+s.randStr()+"-"+s.randStr()+"-"+s.randStr()+"-"+s.randStr()+s.randStr()+s.randStr()}}]),s);function s(){i(this,s)}t.Http=(r(a,null,[{key:"post",value:function(r,o){return new Promise(function(t,n){o=o||{};var e=jQuery.post(r,JSON.stringify(o));e.done(function(e){t(JSON.parse(e))}),e.fail(function(e){401!=e.status?n():location.reload()})})}},{key:"get",value:function(r){return new Promise(function(n,t){var e=jQuery.get(r);e.done(function(t){try{var e=JSON.parse(t);n(e)}catch(e){n(t)}}),e.fail(function(e){console.error("Http.get",e),t(e)})})}}]),a);function a(){i(this,a)}},,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e};function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i,s,a,c=t.CurrentUserActionTypes=void 0;(i=c||(t.CurrentUserActionTypes=c={})).CurrentUserSave="CURRENT_USER/SAVE",i.CurrentUserUpdateUserActivity="CURRENT_USER/UPDATE/ACTIVITY",i.CurrentBoardSave="CURRENT_BOARD/SAVE",i.CurrentBoardUpdateBoardName="CURRENT_BOARD/UPDATE/NAME",i.UpdateShowHideBoardUsersSuccess="UPDATE_SHOW_HIDE_BOARD_USERS/SUCCESS",(a=s=s||{})[a.free=0]="free",a[a.trial=1]="trial",a[a.business=2]="business";t.CurrentUser=(r(u,[{key:"isTrial",value:function(){return this.defaultAccountType===s.trial}},{key:"isDefaultAccountExpired",value:function(){return this.defaultAccountExpired}},{key:"updateDefaultAccountType",value:function(e){this.defaultAccountType=e}},{key:"isLoggedIn",value:function(){return this.loggedIn}},{key:"isShowBoardUsers",value:function(){return!(4==(4&this.properties))}},{key:"isLibraryManualShowHide",value:function(){return 8==(8&this.properties)}},{key:"isAccountRoleReadOnly",value:function(){return 2===this.accountRole}},{key:"isAccountRoleAdminOrPrimaryOwner",value:function(){return 1===this.accountRole||3===this.accountRole}},{key:"isAnonymous",value:function(){return void 0===this.email}},{key:"isGoogleUser",value:function(){return 2==this.authType}}]),u);function u(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),this.currentTeam={team_id:null,team_name:null,notExpired:!1,client:!1}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.currentBoard=t.select=t.closeOnEsc=t.canIDeleteBoard=t.whenScrolled=t.isOutsideElement=t.hideClickedOutside=t.showShareWithAccountUsers=t.showUnshareWithAccountUsers=t.isLoggedInAndProAndNotSharedWithPwBoard=t.isLoggedInAndProAndSharedWithPwBoard=t.isLoggedIn=t.isVersion=t.currentBoardFullId=t.Track=t.isMac=t.shortcut=t.capitalLetters=t.copyTextSimple=t.currentBoardLink=t.addTooltip=void 0;var r=function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e};function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=n(24),s=n(17),a=n(4);t.addTooltip=function(e,t){var n=jQuery(e);n.tooltip(t),n.on("mousedown",function(){n.tooltip("hide")})},t.currentBoardLink=function(){return location.href.split("#")[0]},t.copyTextSimple=function(t,n,r){if(!t)return function(){};var e=new ClipboardJS(t);return e.on("error",function(e){Hammer(t).on("tap",function(){window.prompt("1. Copy to clipboard: Cmd/Ctrl+C, Enter.\n2. Send link e.g. by email.",n.clipboardText)})}),e.on("success",function(e){r(i.NotifyService.info(n.copiedHint))}),function(){e.destroy()}},t.capitalLetters=function(e,t){var n="";return e&&0<e.length&&1==(n=_.map(_.first(e.split(" "),t),function(e){return e.substring(0,1).toUpperCase()}).join("")).length&&2<=e.length&&(n+=e[1]),n},t.shortcut=function(e){return u()?"âŒ˜"+e:"Ctrl+"+e};var c=0<=navigator.platform.toUpperCase().indexOf("MAC"),u=t.isMac=function(){return c},l=t.Track=(r(d,null,[{key:"fireEvent",value:function(e,t,n){"undefined"!=typeof ga?(ga("send","event",t,e,n),ga("cdTracker.send","event",t,e,n)):console.log("Track:",e,"category",t,"label",n)}}]),d);function d(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d)}l.TrackUpgradeUserMessageCategory="um",l.TrackUpgradeInfoCategory="info",l.TrackUpgradeLabel="upgrade";var f=t.currentBoardFullId=function(){return location.pathname.substring(1)},h=(t.isVersion=function(){return 2==f().split("-").length},t.isLoggedIn=function(){return"undefined"!=typeof initialState&&currentUser().isLoggedIn()}),p=(t.isLoggedInAndProAndSharedWithPwBoard=function(){return h()&&v().isPro()&&v().isPasswordProtected()},t.isLoggedInAndProAndNotSharedWithPwBoard=function(){return h()&&v().isPro()&&!v().isPasswordProtected()},t.showUnshareWithAccountUsers=function(){return v().iAmTheOwner()&&v().isAccountVisibility()},t.showShareWithAccountUsers=function(){return v().iAmTheOwner()&&v().isPrivate()},t.hideClickedOutside=function(t,n){var r=Hammer2(document,{tapAlways:!0});function o(e){location.hash==="#"+n&&p(t,e.target)&&(location.hash="/",r.off("tap",o))}return r.on("tap",o),function(){r.off("tap",o)}},t.isOutsideElement=function(e,t){var n=jQuery(e);return!n.is(t)&&0===n.has(t).length}),v=(t.whenScrolled=function(e,t){function n(){e.scrollTop+e.offsetHeight>=e.scrollHeight&&t()}var r=jQuery(e);return r.bind("scroll",n),function(){r.unbind("scroll",n)}},t.canIDeleteBoard=function(e,t){return!e.isAccountRoleReadOnly()&&(!!t.iAmTheOwner()||!!e.isAccountRoleAdminOrPrimaryOwner())},t.closeOnEsc=function(e){var n=jQuery(e);$("body").on("keyup",function(e){if(27===e.keyCode){var t=n.find("input");t&&t.blur(),n.hide()}})},t.select=function(e){var t=jQuery(e);setTimeout(function(){t.select()})},t.currentBoard=function(){return(0,s.getCurrentUserState)((0,a.getStore)().getState()).currentUserState.currentBoard})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.InfoActionTypes=void 0;(r||(t.InfoActionTypes=r={})).SetInfoText="INFO/SET_TEXT"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCookie=a,t.validateSession=c;var r,o=n(19),i=(r=o)&&r.__esModule?r:{default:r};var s=void 0;function a(e){var t=("; "+document.cookie).split("; "+e+"=");if(2==t.length)return t.pop().split(";").shift()}function c(){var e=function(){if(s&&0<s.length)return s;if(localStorage)return localStorage.getItem("b")}();e&&i.default.validateExtSession(e).then(function(e){}).catch(function(e){console.error("vs failure:",e)})}s=a("b"),localStorage&&s&&0<s.length&&localStorage.setItem("b",s),c()},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getStateAtNamespaceKey=function(e,t){var n=e[t];if(n)return n;throw new Error("Attempted to access state for an unregistered namespace at key "+t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateCurrentTeam=function(){window.location.href="/settings/"+currentUser().currentTeam.team_id+"/pricing"},t.upgradeCurrentTeamLink=function(){return"/settings/"+currentUser().currentTeam.team_id+"/pricing"},t.upgradeTeamToOrgLink=function(){return currentUser().currentTeam.notExpired?"/orgs/upgrade/team/"+currentUser().currentTeam.team_id:currentUser().currentTeam.org?"/orgs/"+currentUser().currentTeam.org.org_id+"/subscribe/org-standard2-usd/month":"/settings/"+currentUser().currentTeam.team_id+"/upgrade/org-standard2-usd/month"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e};function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}t.isiOSBrowser=d,t.linkOutside=function(e){return"undefined"!=typeof _config&&!e.startsWith(_config.sketchboardURL)},t.addLinkListener=function(e){d()?e.addEventListener("touchstart",g,!1):e.addEventListener("pointerdown",g,!1)};var i=n(0),s=c(i),a=c(n(8));function c(e){return e&&e.__esModule?e:{default:e}}var u=s.default.lazy(function(){return Promise.all([n.e(1),n.e(8)]).then(n.t.bind(null,49,7))}),l=null;function d(){return l=l||navigator.userAgent.match(/(iPod|iPhone|iPad)/)&&navigator.userAgent.match(/AppleWebKit/)}var f=null;(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)})(h,s.default.Component),r(h,[{key:"componentDidCatch",value:function(e,t){console.log(e,"\n",t)}},{key:"render",value:function(){return this.state.hasError?s.default.createElement("h1",null,"Something went wrong."):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]);function h(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,h);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,e));return t.state={hasError:!1},t}var p=null;function v(e){var t=e.target.parentNode.getAttributeNS("http://www.w3.org/1999/xlink","href"),n=uiutils.getPosition(jQuery(e.target)),r=function(e){return e instanceof MouseEvent?e:e instanceof PointerEvent?e:e instanceof TouchEvent?e.touches.item(0):void 0}(e);n.left=r.clientX+10,n.top=r.clientY+10,e.preventDefault(),f||(f=document.createElement("div"),document.body.appendChild(f),a.default.render(s.default.createElement("div",null,s.default.createElement(i.Suspense,{fallback:s.default.createElement("div",null,"Loading...")},s.default.createElement(u,{ref:function(e){!function(e,t,n){(p=e).update([t],n)}(e,t,n)}}))),f)),p&&p.update([t],n)}function g(e){try{v(e)}catch(e){console.error("handleiOSLinkOpen:",e)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCurrentUserState=void 0;var r=n(14),o=n(5);t.getCurrentUserState=function(e){return(0,r.getStateAtNamespaceKey)(e,o.CURRENT_USER_NAMESPACE_KEY)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e};function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var s=t.LogConfig=(r(a,null,[{key:"isDebug",value:function(){return!(void 0===_config._debug||!_config._debug)}},{key:"isInfo",value:function(){return!(void 0===_config._info||!_config._info)}},{key:"isError",value:function(){return!(void 0===_config._error||!_config._error)}}]),a);function a(){i(this,a)}t.Logger=(r(c,[{key:"_log",value:function(){if(s.isDebug()){for(var e,t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];(e=console).log.apply(e,[this.name," - "].concat(n))}}},{key:"_info",value:function(){if(s.isInfo()){for(var e,t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];(e=console).info.apply(e,[this.name," - "].concat(n))}}},{key:"_error",value:function(){for(var e,t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];(e=console).error.apply(e,[this.name," - "].concat(n))}}]),c);function c(e){i(this,c),this.name=e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(6),i="/pub/api/b/v";t.default={validateExtSession:function(r){return new Promise(function(t,n){o.Http.post(i,{b:r}).then(function(e){t(e)}).catch(function(e){console.error(i,":",r,e),n(e)})})}}},,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NotifyService=void 0;var r=function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e};function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=n(11);t.NotifyService=(r(s,null,[{key:"infoStay",value:function(e){return this._info(e,0)}},{key:"info",value:function(e){return this._info(e,7e3)}},{key:"_info",value:function(t,n){return function(e){e({type:i.InfoActionTypes.SetInfoText,payload:{text:t,timeout:n}}),location.hash="info"}}}]),s);function s(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=t.GetBoardUsersActionTypes=void 0;(r=o||(t.GetBoardUsersActionTypes=o={})).GetBoardUsersRequest="GET_BOARD_USERS/REQUEST",r.GetBoardUsersSuccess="GET_BOARD_USERS/SUCCESS",r.GetBoardUsersFailure="GET_BOARD_USERS/FAILURE",r.GetBoardUsersClear="GET_BOARD_USERS/CLEAR",r.GetTeamInfoSuccess="GET_TEAM_INFO/SUCCESS",r.UserMessageSeenSuccess="USER_MESSAGE/SEEN/SUCCESS",r.BoardUsersUpdateUser="BOARD_USERS/UPDATE_USER",r.BoardUsersRemoveUser="BOARD_USERS/REMOVE_USER"},,,,function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.staticReducers=void 0;var o=n(5),i=n(30),s=n(31),a=n(32),c=n(33);function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.staticReducers=(u(r={},o.BLANK_NAMESPACE_KEY,i.blankReducer),u(r,o.BOARD_USERS_NAMESPACE_KEY,s.boardUsersReducer),u(r,o.CURRENT_USER_NAMESPACE_KEY,a.userStateReducer),u(r,o.INFO_NAMESPACE_KEY,c.infoStateReducer),r)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.blankReducer=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.boardUsersReducer=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{getBoardUsersState:{users:[]},teamInfo:{free_plan:!1,plan_id_name:null,private_boards_full:!1,max_private_boards:3,seen:!1,fetched:!1}},t=arguments[1];switch(t.type){case a.GetBoardUsersActionTypes.GetBoardUsersRequest:return Object.assign(Object.assign({},e),{getBoardUsersState:Object.assign(Object.assign({},e.getBoardUsersState),{fetching:!0,success:!1,failed:!1})});case a.GetBoardUsersActionTypes.GetBoardUsersFailure:return Object.assign(Object.assign({},e),{getBoardUsersState:Object.assign(Object.assign({},e.getBoardUsersState),{fetching:!1,success:!1,failed:!0,users:[]})});case a.GetBoardUsersActionTypes.GetBoardUsersSuccess:var n=t.payload.users,r=[];_.each(n,function(t){t.username=t.displayName,_.find(e.getBoardUsersState.users,function(e){return e.email==t.email})||r.push(t)});var o=c(e.getBoardUsersState.users.concat(r));return Object.assign(Object.assign({},e),{getBoardUsersState:Object.assign(Object.assign({},e.getBoardUsersState),{fetching:!1,success:!0,failed:!1,users:o})});case a.GetBoardUsersActionTypes.GetBoardUsersClear:return Object.assign(Object.assign({},e),{getBoardUsersState:Object.assign(Object.assign({},e.getBoardUsersState),{fetching:!1,success:!1,failed:!1,users:[]})});case a.GetBoardUsersActionTypes.GetTeamInfoSuccess:return Object.assign(Object.assign({},e),{teamInfo:t.payload.teamInfo});case a.GetBoardUsersActionTypes.UserMessageSeenSuccess:return Object.assign(Object.assign({},e),{teamInfo:Object.assign(Object.assign({},e.teamInfo),{seen:!0})});case a.GetBoardUsersActionTypes.BoardUsersUpdateUser:var i=_.filter(e.getBoardUsersState.users,function(e){return e.email!=t.payload.user.email});return i=c(i=i.concat([t.payload.user])),Object.assign(Object.assign({},e),{getBoardUsersState:Object.assign(Object.assign({},e.getBoardUsersState),{users:i})});case a.GetBoardUsersActionTypes.BoardUsersRemoveUser:var s=e.getBoardUsersState.users.filter(function(e){return e.email!=t.payload.user.email});return Object.assign(Object.assign({},e),{getBoardUsersState:Object.assign(Object.assign({},e.getBoardUsersState),{users:s})});default:return e}};var a=n(25);function c(e){return _.sortBy(e,function(e){return e.email})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.userStateReducer=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{currentUserState:{currentUser:new r.CurrentUser,currentBoard:null}},t=arguments[1];switch(t.type){case r.CurrentUserActionTypes.CurrentUserSave:return Object.assign(Object.assign({},e),{currentUserState:Object.assign(Object.assign({},e.currentUserState),{currentUser:t.payload.currentUser})});case r.CurrentUserActionTypes.CurrentUserUpdateUserActivity:return Object.assign(Object.assign({},e),{currentUserState:Object.assign(Object.assign({},e.currentUserState),{currentUser:Object.assign(Object.assign({},e.currentUserState.currentUser),{userLastActivity:t.payload.userLastActivity})})});case r.CurrentUserActionTypes.CurrentBoardSave:return Object.assign(Object.assign({},e),{currentUserState:Object.assign(Object.assign({},e.currentUserState),{currentBoard:t.payload.currentBoard})});case r.CurrentUserActionTypes.CurrentBoardUpdateBoardName:return Object.assign(Object.assign({},e),{currentUserState:Object.assign(Object.assign({},e.currentUserState),{currentBoard:Object.assign(Object.assign({},e.currentUserState.currentBoard),{name:t.payload.boardName})})});case r.CurrentUserActionTypes.UpdateShowHideBoardUsersSuccess:return Object.assign(Object.assign({},e),{currentUserState:Object.assign(Object.assign({},e.currentUserState),{currentUser:Object.assign(Object.assign({},e.currentUserState.currentUser),{properties:function(){switch(t.payload.showBoardUsers){case!0:return e.currentUserState.currentUser.properties&~o;default:return e.currentUserState.currentUser.properties|o}}()})})});default:return e}};var r=n(9),o=4},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.infoStateReducer=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{infoState:{text:null,timeout:7e3}},t=arguments[1];switch(t.type){case r.InfoActionTypes.SetInfoText:return Object.assign(Object.assign({},e),{infoState:{text:t.payload.text,timeout:t.payload.timeout}});default:return e}};var r=n(11)},function(e,t,n){"use strict";function r(e,t){return e.sketchboardAvatar?function(e,t){var n=e.split("/");if(1<n.length){var r=n[n.length-1].match(/d\.(\S+)/);if(r){var o=r[1];return n[n.length-1]=t+"."+o,n.join("/")}}return""}(e.avatarUrl,t):e.avatarUrl+"?d=mm&s="+t}Object.defineProperty(t,"__esModule",{value:!0}),t.makeUrl=r,window.makeUrl=r,window.tsCurrentSketchMode=function(){return gwtIsSketchMode()?0:1}},function(e,t,n){"use strict";var r=document.querySelector("body"),o=document.createElement("div");o.id="inline-svg",o.style.display="none",r.appendChild(o);var i=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var n=new XMLHttpRequest;n.open("GET",t,!0),n.onreadystatechange=function(){4==n.readyState&&200==n.status&&(o.innerHTML=o.innerHTML+n.responseText)},n.send()};window.addEventListener("load",function(e){!function(){for(var e=[_config.staticPrefix+"/inline-svg/sb_icons_082ecb88d24c61335c61e604e9098641.svg"],t=0;t<e.length;++t){new i(e[t])}}()},!1)},function(e,t,n){"use strict";function s(e,t,n){var r,o,i;if(0==t)r=o=i=n;else{var s=function(e,t,n){return n<0&&(n+=1),1<n&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e},a=n<.5?n*(1+t):n+t-n*t,c=2*n-a;r=s(c,a,e+1/3),o=s(c,a,e),i=s(c,a,e-1/3)}return{red:Math.round(255*r),green:Math.round(255*o),blue:Math.round(255*i)}}function a(e,t,n){e/=255,t/=255,n/=255;var r,o,i=Math.max(e,t,n),s=Math.min(e,t,n),a=(i+s)/2;if(i==s)r=o=0;else{var c=i-s;switch(o=.5<a?c/(2-i-s):c/(i+s),i){case e:r=(t-n)/c+(t<n?6:0);break;case t:r=(n-e)/c+2;break;case n:r=(e-t)/c+4}r/=6}return{hue:r,saturation:o,luminosity:a}}window.tsHslToRgb=s,window.tsRgbToHsl=a,window.tsRgbToDarker=function(e,t,n){var r=a(e,t,n);r.luminosity*=100,r.luminosity-=10,r.luminosity<0&&(r.luminosity=0),r.luminosity/=100;var o=s(r.hue,r.saturation,r.luminosity);return[o.red,o.green,o.blue]},window.tsRgbToLighter=function(e,t,n,r){var o=a(e,t,n);o.luminosity*=100,o.luminosity+=r,100<o.luminosity&&(o.luminosity=100),o.luminosity/=100;var i=s(o.hue,o.saturation,o.luminosity);return[i.red,i.green,i.blue]}},function(e,t,n){"use strict";var r=function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e};function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=n(18),s=n(12);function a(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,"sbcomet"));return e.tabVisible=!0,e.noCometSession=!1,e.noAjaxSession=!1,e.lastVisible=0,document.addEventListener("visibilitychange",function(){e.onVisibilityChange()}),globalStreams.trySendQueueStream.onValue(function(){(e.noAjaxSession||e.noCometSession)&&e.reconnectAfter(0)}),setInterval(function(){e.pingTabActive()},6e4),e}var c=new(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(a,i.Logger),r(a,[{key:"pingTabActive",value:function(){this.tabVisible&&"undefined"!=typeof libraryService&&(this._log("pingTabActive..."),libraryService.pingTabActive())}},{key:"onVisibilityChange",value:function(){var e=this;"hidden"==document.visibilityState?(this.tabVisible=!1,this.lastVisible=(new Date).getTime(),this._log("Update last visible...")):this.tabVisible=!0,this._log("visibilitychange",this.tabVisible),setTimeout(function(){e.tabVisible&&e.reconnect()},3e3),this.tabVisible&&this.checkSum()}},{key:"checkSum",value:function(){var e=(new Date).getTime()-this.lastVisible;this._log("diff:",e),3e4<e&&(this._log("Check checksum..."),setTimeout(function(){gwtCheckServerCheckSum()},1e3))}},{key:"noSBAjaxSessionFunc",value:function(){this._log("no ajax session"),this.noAjaxSession=!0,globalStreams.cometSessionStream.push(!1),this.reconnect()}},{key:"noCometSessionFunc",value:function(){this._log("no comet session"),this.noCometSession=!0,globalStreams.cometSessionStream.push(!1),this.reconnect()}},{key:"sbCometOnErrorFunc",value:function(e){window.console&&"function"==typeof window.console.error&&window.console.error(e.stack||e);try{serverUnreachable()}catch(e){window.console.error(e.stack||e)}throw e}},{key:"delay",value:function(){return 1e3*Math.random()*30*1}},{key:"reconnect",value:function(){this.checkSessionValid(),this.noAjaxSession&&this.tabVisible||this.noCometSession&&this.tabVisible}},{key:"reconnectAfter",value:function(e){var t=this;this._log("reloadPage timeout",e),setTimeout(function(){t._log("reload now..."),location.reload()},e)}},{key:"checkSessionValid",value:function(){this._log("checkSessionValid..."),(0,s.validateSession)()}}]),a);window.noSBCometSession=function(){c.noCometSessionFunc()},window.noSBAjaxSession=function(){c.noSBAjaxSessionFunc()},window.sbCometOnError=function(e){c.sbCometOnErrorFunc(e)}},function(e,t,n){"use strict";var a=n(6),c=new(n(18).Logger)("onerror"),u="/pub/api/report/error";window.onerror=function(e,t,n,r,o){try{var i=function(e){var t="";try{if(e&&e.fnStack)for(var n=0;n<e.fnStack.length;++n){for(var r=e.fnStack[n],o=0;o<r.length;++o)0<o&&(t+=": "),t+=r[o];t+="\n"}}catch(e){}return t}(o),s={type:o&&o.name?o.name:"javascript exception",message:e,file:t,line:n,column:r,stack:o&&o.stack?o.stack:i,userAgent:navigator.userAgent,href:location.href};c._log("Report error:",e),a.Http.post(u,s)}catch(e){console.error("onerror: ",e)}},window.__reportException=function(e,t,n){try{c._error("__reportException",e,t,n);var r={type:e&&e.name?e.name:"GWT exception",message:e&&e.message?e.message:t,stack:e&&e.stack?e.stack:n,userAgent:navigator.userAgent,href:location.href};a.Http.post(u,r)}catch(e){console.error("__reportException: ",e)}}},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o="PointerEvent"in window,i=(function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}(s,[{key:"getEvent",value:function(){return this.event}},{key:"getHandler",value:function(){return this.handler}},{key:"on",value:function(e,t){switch(this.handler=t,this.event=e){case"tap":case"doubletap":this.initTap(t);break;default:console.error("HammerPointerImpl failed on",e)}}},{key:"off",value:function(e,t){this.event==e&&this.handler==t&&(this.setCancel(!0),o?(this.element.removeEventListener("pointerdown",this.downHandler),this.element.removeEventListener("pointermove",this.moveHandler),this.element.removeEventListener("pointerup",this.upHandler)):(this.element.removeEventListener("touchstart",this.touchStartHandler),this.element.removeEventListener("touchmove",this.touchMoveHandler),this.element.removeEventListener("touchend",this.upTouchHandler),this.element.removeEventListener("mousedown",this.downHandler),this.element.removeEventListener("mousemove",this.moveHandler),this.element.removeEventListener("mouseup",this.upHandler)),this.event=null,this.handler=null)}},{key:"initTap",value:function(e){o?(this.downHandler=this.downEvent.bind(this),this.element.addEventListener("pointerdown",this.downHandler),this.moveHandler=this.moveEvent.bind(this),this.element.addEventListener("pointermove",this.moveHandler),this.upHandler=this.upMouseEvent.bind(this),this.element.addEventListener("pointerup",this.upHandler)):(this.touchStartHandler=this.touchStartEvent.bind(this),this.element.addEventListener("touchstart",this.touchStartHandler),this.touchMoveHandler=this.touchMoveEvent.bind(this),this.element.addEventListener("touchmove",this.touchMoveHandler),this.upTouchHandler=this.upTouchEvent.bind(this),this.element.addEventListener("touchend",this.upTouchHandler),this.downHandler=this.downEvent.bind(this),this.element.addEventListener("mousedown",this.downHandler),this.moveHandler=this.moveEvent.bind(this),this.element.addEventListener("mousemove",this.moveHandler),this.upHandler=this.upMouseEvent.bind(this),this.element.addEventListener("mouseup",this.upHandler))}},{key:"markCancel",value:function(){var e=this;this.setCancel(!0),setTimeout(function(){e.setCancel(!1)})}},{key:"setCancel",value:function(e){this.cancel=e}},{key:"downEvent",value:function(e){this.setCancel(!1),this.down=!0,this.downX=e.clientX,this.downY=e.clientY}},{key:"moveEvent",value:function(e){this.checkMoved(e.clientX,e.clientY)}},{key:"touchStartEvent",value:function(e){1==e.touches.length?(this.setCancel(!1),this.down=!0,this.downX=e.touches[0].clientX,this.downY=e.touches[0].clientY):this.setCancel(!0)}},{key:"touchMoveEvent",value:function(e){1==e.touches.length?this.checkMoved(e.touches[0].clientX,e.touches[0].clientY):this.setCancel(!0)}},{key:"checkMoved",value:function(e,t){if(this.down){var n=Math.abs(this.downX-e),r=Math.abs(this.downY-t);(n>this.MAX_DISTANCE||r>this.MAX_DISTANCE)&&this.setCancel(!0)}}},{key:"upMouseEvent",value:function(e){e.target instanceof Element&&this.upEvent(e,e.clientX,e.clientY,e.target.id)}},{key:"upTouchEvent",value:function(e){e.changedTouches&&1==e.changedTouches.length&&e.target instanceof Element&&this.upEvent(e,e.changedTouches[0].clientX,e.changedTouches[0].clientY,e.target.id)}},{key:"upEvent",value:function(e,t,n,r){var o=this;if(this.down=!1,this.tapped){if(clearTimeout(this.tapped),this.tapped=null,"doubletap"!==this.event)return;this.doubleTap(t,n,!1,r)}else this.tapped=setTimeout(function(){o.options.tapAlways||o.singleTap(e),o.tapped=null},this.MILLIS),this.options.tapAlways&&this.singleTap(e)}},{key:"singleTap",value:function(e){var t=this;this.cancel||(this.options.preventDefault&&(e.preventDefault(),e.stopPropagation()),setTimeout(function(){t.handler&&t.handler(e)},5)),this.setCancel(!1)}},{key:"doubleTap",value:function(e,t,n,r){}}]),s);function s(e,t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),this.MILLIS=250,this.MAX_DISTANCE=7,this.element=e,this.options=t||{tapAlways:!0,preventDefault:!0},globalStreams.shapeContextStream.onValue(function(){n.markCancel()})}window.Hammer2=function(e,t){return new i(e,t)}},function(e,t,n){"use strict";$(window).on("resize",function(){$(window).scrollTop(0)})},function(e,t,n){"use strict";var r=void 0,o=void 0;function i(e){r=e.clientX,o=e.clientY}PointerEvent?document.documentElement.addEventListener("pointerdown",i):(document.documentElement.addEventListener("mousedown",i),document.documentElement.addEventListener("touchstart",function(e){0<e.touches.length&&(r=e.touches[0].clientX,o=e.touches[0].clientY)})),window.currentPointerDownX=function(){return r},window.currentPointerDownY=function(){return o}},function(e,t,n){"use strict";var r="http://www.w3.org/2000/svg",i=new Map,o=function(t,e){var n=i.get(t);n=n||[],e.forEach(function(e){n.push(e)}),i.set(t,n),console.log("drawingareaId",t);try{var r=boardReadyStream.onValue(function(){var e=document.querySelector("#"+t);s(e,r)})}catch(e){var o=document.querySelector("svg");s(o,null)}},s=function(e,t){if(e){var n=e.querySelector("defs");i.forEach(function(e,t){e.forEach(function(e){a(e,n)}),i.delete(t)}),t&&t()}},a=function(e,t){var n=document.createElementNS(r,"linearGradient");e.stop.forEach(function(e){var t=document.createElementNS(r,"stop");t.setAttribute("offset",e.offset),t.setAttribute("stop-color",e.stop_color),n.appendChild(t)}),n.id=e.id,n.setAttribute("x1",e.x1),n.setAttribute("x2",e.x2),n.setAttribute("y1",e.y1),n.setAttribute("y2",e.y2),t.appendChild(n)},c=function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)};window.__addGradients__=function(e,t){var n=document.querySelector("#"+e);if(n){var r=n.querySelector("defs");t.forEach(function(e){a(e,r)})}else o(e,t)},window.__updateGradients__=function(e){var r=new Map;e.g&&e.g.forEach(function(e){var t=c();r.set(e.id,t),e.id=t}),e.s&&0<r.size&&e.s.forEach(function(n){r.forEach(function(e,t){n.s=n.s.replace("#"+t,"#"+e)})})}},,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(){s(this,a),this.userAgent="navigator"in window&&"userAgent"in navigator&&navigator.userAgent.toLowerCase()||"",this.vendor="navigator"in window&&"vendor"in navigator&&navigator.vendor.toLowerCase()||""}var c=new(o(a,[{key:"chrome",value:function(){return void 0!==("undefined"==typeof window?"undefined":r(window))&&/chrome|chromium/i.test(this.userAgent)&&/google inc/.test(this.vendor)}},{key:"firefox",value:function(){return void 0!==("undefined"==typeof window?"undefined":r(window))&&/firefox/i.test(this.userAgent)}},{key:"edge",value:function(){return void 0!==("undefined"==typeof window?"undefined":r(window))&&/edge/i.test(this.userAgent)}},{key:"safari",value:function(){return void 0!==("undefined"==typeof window?"undefined":r(window))&&/safari/i.test(this.userAgent)&&/apple computer/i.test(this.vendor)}}]),a),u=t.SketchboardSocketIO=(o(l,[{key:"emit",value:function(e){var t;l.socket.connected||l.socket.connect();for(var n=arguments.length,r=Array(1<n?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return(t=l.socket).emit.apply(t,[e].concat(r))}}],[{key:"getSocket",value:function(){function r(e,t){clearTimeout(e),t(l.socket)}return new Promise(function(e,t){var n=setTimeout(function(){t(),location.reload()},15e3);l.socket.connected?r(n,e):(l.socket.on("connect",function(){console.log("connect...",l.socket.id),r(n,e)}),l.socket.connect())})}}]),l);function l(){s(this,l);var e=6e4*Math.random(),t=!c.firefox();l.socket||(l.socket=io(_config.wsURL,{path:_config.wsURL,transports:["polling","websocket"],upgrade:t,multiplex:!0,reconnectionDelay:e,reconnectionDelayMax:18e4}))}window.getSocket=function(){return u.getSocket()}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n(35),n(34),n(36),n(95),n(96),n(37),n(97),n(38),n(39),n(12),n(40),n(41),n(98),n(42);var r=n(16),o=n(15);window.__addLinkListener__=r.addLinkListener,window.linkOutside=r.linkOutside,window.upgradeTeamToOrgLink=o.upgradeTeamToOrgLink},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SketchboardChat=void 0;var r=function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e};function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:s(o,t,n)}if("value"in r)return r.value;var i=r.get;return void 0!==i?i.call(n):void 0}var i=n(54),a=n(6);var c=t.SketchboardChat=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(u,i.SketchboardSocketIO),r(u,[{key:"handleMessage",value:function(e){ChatController("applyMessage",e),e.from_sock_id!=i.SketchboardSocketIO.socket.id&&globalStreams.newChatMessageStream.push(),jQuery(".messageArea").each(function(e){this.scrollTop=this.scrollHeight})}},{key:"sendChatMessage",value:function(e){var t=this;s(u.prototype.__proto__||Object.getPrototypeOf(u.prototype),"emit",this).call(this,u.chatEventMsgAck,e,function(e){t.handleMessage(e)})}},{key:"sendMsgServiceDiscovery",value:function(e){var t=this,n={service_id:this.getServiceId(u.chatEventMsgAck),params:[e]};s(u.prototype.__proto__||Object.getPrototypeOf(u.prototype),"emit",this).call(this,u.chatEventMsgAck,n,function(e){t.handleMessage(e)}),s(u.prototype.__proto__||Object.getPrototypeOf(u.prototype),"emit",this).call(this,u.chatMessage,n)}},{key:"loadChatMessages",value:function(e,t){s(u.prototype.__proto__||Object.getPrototypeOf(u.prototype),"emit",this).call(this,u.chatLoadMessages,e,t)}},{key:"loadPrevMessages",value:function(e,t){s(u.prototype.__proto__||Object.getPrototypeOf(u.prototype),"emit",this).call(this,u.chatLoadPrevMessages,e,t)}},{key:"getServiceId",value:function(e){var t=!0,n=!1,r=void 0;try{for(var o,i=this.services[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var s=o.value;if(s.name==e)return s.sid}}catch(e){n=!0,r=e}finally{try{!t&&i.return&&i.return()}finally{if(n)throw r}}return console.error("service by event not found",e),""}},{key:"updateServices",value:function(){var n=this;a.Http.post("/settings/rest/services/"+_initialBoard.boardId+"/"+i.SketchboardSocketIO.socket.id).then(function(e){if(0==e.ok){var t=e.data.services;n.services=t,console.info("Services",n.services)}}).catch(function(e){console.error("reason",e),n.services=[]})}}]),u);function u(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(u.__proto__||Object.getPrototypeOf(u)).call(this));return t.services=[],i.SketchboardSocketIO.socket.on(u.chatMessage,function(e){t.handleMessage(e)}),i.SketchboardSocketIO.socket.on("connect",function(){}),i.SketchboardSocketIO.socket.on("disconnected",function(){console.log("disconnected...",i.SketchboardSocketIO.socket.id),t.services=[]}),i.SketchboardSocketIO.socket.on(u.chatLoadMessages,function(e){ChatController("applyMessages",e)}),i.SketchboardSocketIO.socket.on(u.chatLoadPrevMessages,function(e){ChatController("applyMessages",e,!0)}),i.SketchboardSocketIO.socket.on(u.serverPushMsg,function(e){downloadFileSocketNotif(e)}),t}c.chatMessage="chat message",c.chatEventMsgAck="chat message with ack",c.chatLoadMessages="chat load messages",c.chatLoadPrevMessages="chat load prev messages",c.serverPushMsg="server-push:msg";var l=new c;window.sendChatMessage=function(e){l.sendChatMessage(e)},window.loadChatMessages=function(e,t){l.loadChatMessages(e,t)},window.loadPrevMessages=function(e,t){l.loadPrevMessages(e,t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SketchboardWhiteboard=void 0;var r=function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e};function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=n(54);var s=t.SketchboardWhiteboard=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(a,i.SketchboardSocketIO),r(a,[{key:"requestBoard2",value:function(e){console.log("requestBoard2..."),function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var s=o.get;return void 0!==s?s.call(r):void 0}(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"emit",this).call(this,a.sketchBoardGet,e,function(e){console.log("ACK... boardGet",e.site_id,e.json_content)})}}]),a);function a(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments))}s.sketchBoardGet="board:get";var c=new s;window.requestBoard2=function(e){c.requestBoard2(e)}},function(e,t,n){"use strict";var r=n(6);window.isMaintenance=function(){var e=_config.releaseURL+"/release.todo";return new Promise(function(t,n){r.Http.get(e).then(function(e){t(e)}).catch(function(e){console.error("isMaintenance: "+e),n(e)})})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CommentAPI=void 0;var r=function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e};function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=n(10);var s=t.CommentAPI=(r(a,null,[{key:"switchCommentShapeIds",value:function(e,r){return new Promise(function(t,n){("undefined"!=typeof backendComments?backendComments:(location.reload(),null)).switchCommentShapeIds({board_id:(0,i.currentBoard)().boardId,from_client_id:e,to_client_id:r,site_id:gwtGetSiteId()}).then(function(e){t(e)}).catch(function(e){console.error("CommentAPI.switchCommentShapeIds error: "+e),n(e)})})}}]),a);function a(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a)}window.switchCommentShapeIds=s.switchCommentShapeIds}],[[94,0,1]]]);